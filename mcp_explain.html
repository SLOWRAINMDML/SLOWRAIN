<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 40px;
        }
        h3 {
            color: #555;
            margin-top: 30px;
        }
        .file-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .code-block {
            background: #f4f4f4;
            border-left: 4px solid #007acc;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border-radius: 4px;
        }
        .method-signature {
            background: #e8f4f8;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            border-left: 3px solid #17a2b8;
        }
        .feature-list {
            list-style-type: none;
            padding: 0;
        }
        .feature-list li {
            background: #e8f5e8;
            margin: 8px 0;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #28a745;
        }
        .architecture-diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 10px;
            border: 2px dashed #007acc;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .toc {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .toc ul {
            list-style-type: decimal;
        }
        .toc a {
            text-decoration: none;
            color: #007acc;
        }
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤– MCP í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ</h1>
        
        <div class="info">
            <strong>í”„ë¡œì íŠ¸ ê°œìš”:</strong> ì´ í”„ë¡œì íŠ¸ëŠ” Model Context Protocol (MCP)ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ LLMê³¼ í†µí•©ëœ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬í˜„í•œ Python í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. MCPë¥¼ í†µí•´ ì™¸ë¶€ ë„êµ¬ì™€ ì„œë¹„ìŠ¤ë¥¼ ì—°ê²°í•˜ê³ , LLMì´ ì´ëŸ¬í•œ ë„êµ¬ë“¤ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì¢…í•©ì ì¸ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.
        </div>

        <div class="toc">
            <h3>ğŸ“š ëª©ì°¨</h3>
            <ul>
                <li><a href="#overview">í”„ë¡œì íŠ¸ ê°œìš”</a></li>
                <li><a href="#architecture">ì•„í‚¤í…ì²˜</a></li>
                <li><a href="#main-client">ë©”ì¸ í´ë¼ì´ì–¸íŠ¸ (SimpleMcpClient)</a></li>
                <li><a href="#web-ui">ì›¹ UI í´ë¼ì´ì–¸íŠ¸</a></li>
                <li><a href="#manual-client">ìˆ˜ë™ í´ë¼ì´ì–¸íŠ¸</a></li>
                <li><a href="#config">ì„¤ì • ê´€ë¦¬</a></li>
                <li><a href="#example-server">ì˜ˆì œ MCP ì„œë²„</a></li>
                <li><a href="#debug">ë””ë²„ê¹… ë„êµ¬</a></li>
                <li><a href="#usage">ì‚¬ìš© ë°©ë²•</a></li>
                <li><a href="#development">ê°œë°œ ê°€ì´ë“œ</a></li>
            </ul>
        </div>

        <h2 id="overview">ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”</h2>
        
        <p>ì´ í”„ë¡œì íŠ¸ëŠ” <strong>Model Context Protocol (MCP)</strong>ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ í†µí•© í´ë¼ì´ì–¸íŠ¸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. MCPëŠ” LLMì´ ì™¸ë¶€ ë„êµ¬ì™€ ì•ˆì „í•˜ê²Œ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í‘œì¤€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.</p>

        <ul class="feature-list">
            <li><strong>ğŸ”— ë‹¤ì¤‘ MCP ì„œë²„ ì—°ê²°:</strong> ì—¬ëŸ¬ MCP ì„œë²„ë¥¼ ë™ì‹œì— ì—°ê²°í•˜ê³  ê´€ë¦¬</li>
            <li><strong>ğŸ¤– ë‹¤ì¤‘ LLM ì§€ì›:</strong> OpenAI, Anthropic, Ollama ë“± ë‹¤ì–‘í•œ LLM ì œê³µì ì§€ì›</li>
            <li><strong>ğŸŒ ì›¹ UI ì¸í„°í˜ì´ìŠ¤:</strong> Streamlit ê¸°ë°˜ì˜ ì‚¬ìš©ì ì¹œí™”ì  ì›¹ ì¸í„°í˜ì´ìŠ¤</li>
            <li><strong>ğŸ”§ ì„¤ì • ê´€ë¦¬:</strong> ìœ ì—°í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì„¤ì • ì‹œìŠ¤í…œ</li>
            <li><strong>ğŸ› ë””ë²„ê¹… ë„êµ¬:</strong> MCP í†µì‹ ì„ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ë””ë²„ê¹… ìœ í‹¸ë¦¬í‹°</li>
            <li><strong>ğŸ“ ì˜ˆì œ ì œê³µ:</strong> í•™ìŠµê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì™„ì „í•œ ì˜ˆì œ MCP ì„œë²„</li>
        </ul>

        <div class="architecture-diagram">
            <h3>ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h3>
            <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web UI        â”‚    â”‚  Main Client    â”‚    â”‚ Manual Client   â”‚
â”‚  (Streamlit)    â”‚    â”‚ (SimpleMCP)     â”‚    â”‚ (Debug/Test)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     MCP Protocol        â”‚
                    â”‚   (JSON-RPC over       â”‚
                    â”‚    stdin/stdout)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                      â”‚                      â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ Draw MCP  â”‚          â”‚Godot MCP  â”‚          â”‚Other MCP  â”‚
    â”‚  Server   â”‚          â”‚  Server   â”‚          â”‚ Servers   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </pre>
        </div>

        <h2 id="architecture">ğŸ—ï¸ ì•„í‚¤í…ì²˜</h2>

        <table>
            <tr>
                <th>êµ¬ì„± ìš”ì†Œ</th>
                <th>ì—­í• </th>
                <th>êµ¬í˜„ íŒŒì¼</th>
            </tr>
            <tr>
                <td>ë©”ì¸ í´ë¼ì´ì–¸íŠ¸</td>
                <td>MCP ì„œë²„ ê´€ë¦¬ ë° LLM í†µí•©</td>
                <td>python_mcp_llm_example.py</td>
            </tr>
            <tr>
                <td>ì›¹ UI</td>
                <td>Streamlit ê¸°ë°˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤</td>
                <td>client.py</td>
            </tr>
            <tr>
                <td>ìˆ˜ë™ í´ë¼ì´ì–¸íŠ¸</td>
                <td>ë¡œìš°ë ˆë²¨ MCP í†µì‹  ë° í…ŒìŠ¤íŠ¸</td>
                <td>manual_mcp_client.py</td>
            </tr>
            <tr>
                <td>ì„¤ì • ê´€ë¦¬ì</td>
                <td>í†µí•© ì„¤ì • ì‹œìŠ¤í…œ</td>
                <td>config.py</td>
            </tr>
            <tr>
                <td>ì˜ˆì œ ì„œë²„</td>
                <td>í…ŒìŠ¤íŠ¸ìš© MCP ì„œë²„</td>
                <td>example_mcp_server.py</td>
            </tr>
            <tr>
                <td>ë””ë²„ê¹… ë„êµ¬</td>
                <td>MCP í†µì‹  ë””ë²„ê¹…</td>
                <td>debug_mcp_raw.py</td>
            </tr>
        </table>

        <h2 id="main-client">ğŸ¤– ë©”ì¸ í´ë¼ì´ì–¸íŠ¸ (SimpleMcpClient)</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: python_mcp_llm_example.py</h3>
            
            <p>í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì¸ <code>SimpleMcpClient</code> í´ë˜ìŠ¤ëŠ” ëª¨ë“  MCPì™€ LLM ê¸°ëŠ¥ì„ í•˜ë‚˜ë¡œ í†µí•©í•©ë‹ˆë‹¤.</p>

            <h4>ğŸ”§ ì£¼ìš” í´ë˜ìŠ¤</h4>
            
            <div class="method-signature">
                @dataclass<br>
                class LLMConfig:<br>
                &nbsp;&nbsp;&nbsp;&nbsp;provider: str  # "ollama", "openai", "anthropic"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;model: str<br>
                &nbsp;&nbsp;&nbsp;&nbsp;api_key: Optional[str] = None<br>
                &nbsp;&nbsp;&nbsp;&nbsp;base_url: Optional[str] = None<br>
                &nbsp;&nbsp;&nbsp;&nbsp;temperature: float = 0.7<br>
                &nbsp;&nbsp;&nbsp;&nbsp;max_tokens: int = 4000
            </div>

            <h4>ğŸ—ï¸ SimpleMcpClient ì£¼ìš” ë©”ì„œë“œ</h4>

            <div class="method-signature">
                def __init__(self, llm_config: LLMConfig)
            </div>
            <p><strong>ëª©ì :</strong> í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ë° ì„¤ì •</p>
            <ul>
                <li>LLM ì„¤ì • ì €ì¥</li>
                <li>ì—°ê²° ë° ë„êµ¬ ì €ì¥ì†Œ ì´ˆê¸°í™”</li>
                <li>ëŒ€í™” íˆìŠ¤í† ë¦¬ ì¤€ë¹„</li>
            </ul>

            <div class="method-signature">
                def connect_servers(self, config_file: str = "test.json")
            </div>
            <p><strong>ëª©ì :</strong> JSON ì„¤ì • íŒŒì¼ì—ì„œ MCP ì„œë²„ë“¤ì„ ì½ì–´ì™€ ì—°ê²°</p>
            <div class="code-block">
# ì„¤ì • íŒŒì¼ ì˜ˆì‹œ (test.json)
{
    "mcpServers": {
        "simpledraw": {
            "command": "python",
            "args": ["simpledraw.py"]
        },
        "godot": {
            "command": "node",
            "args": ["godot-mcp/build/index.js"],
            "env": {
                "GODOT_PATH": "/path/to/godot"
            }
        }
    }
}
            </div>

            <div class="method-signature">
                def _connect_server(self, server_name: str, server_config: Dict)
            </div>
            <p><strong>ëª©ì :</strong> ê°œë³„ MCP ì„œë²„ì™€ì˜ ì—°ê²° ì²˜ë¦¬</p>
            <ul>
                <li>subprocessë¥¼ í†µí•œ ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì‹œì‘</li>
                <li>JSON-RPC initialize ìš”ì²­ ì „ì†¡</li>
                <li>initialized ì•Œë¦¼ ì „ì†¡</li>
                <li>ì—°ê²° ìƒíƒœ ê´€ë¦¬</li>
            </ul>

            <div class="method-signature">
                def call_tool(self, server_name: str, tool_name: str, arguments: Dict[str, Any]) -> str
            </div>
            <p><strong>ëª©ì :</strong> íŠ¹ì • MCP ì„œë²„ì˜ ë„êµ¬ ì‹¤í–‰</p>
            <div class="code-block">
# ë„êµ¬ í˜¸ì¶œ ì˜ˆì‹œ
result = client.call_tool(
    server_name="simpledraw",
    tool_name="create_image",
    arguments={
        "width": 800,
        "height": 600,
        "background_color": "white"
    }
)
            </div>

            <div class="method-signature">
                def chat(self, user_message: str) -> str
            </div>
            <p><strong>ëª©ì :</strong> ì‚¬ìš©ì ë©”ì‹œì§€ ì²˜ë¦¬ ë° LLM ì‘ë‹µ ìƒì„±</p>
            <ul>
                <li>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìƒì„± (ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ í¬í•¨)</li>
                <li>LLM API í˜¸ì¶œ</li>
                <li>ì‘ë‹µì—ì„œ ë„êµ¬ í˜¸ì¶œ íŒŒì‹±</li>
                <li>ë„êµ¬ ì‹¤í–‰ í›„ ìµœì¢… ì‘ë‹µ ìƒì„±</li>
            </ul>

            <h4>ğŸ”— LLM ì œê³µìë³„ êµ¬í˜„</h4>

            <div class="method-signature">
                def _call_ollama(self, messages: List[Dict]) -> str
            </div>
            <p>ë¡œì»¬ Ollama ì„œë²„ì™€ í†µì‹  (ê¸°ë³¸: http://localhost:11434)</p>

            <div class="method-signature">
                def _call_openai(self, messages: List[Dict]) -> str
            </div>
            <p>OpenAI API ë˜ëŠ” í˜¸í™˜ ì„œë¹„ìŠ¤ì™€ í†µì‹ </p>

            <div class="method-signature">
                def _call_anthropic(self, messages: List[Dict]) -> str
            </div>
            <p>Anthropic Claude APIì™€ í†µì‹ </p>

            <h4>ğŸ¯ ë„êµ¬ í˜¸ì¶œ íŒŒì‹±</h4>
            <p>LLMì´ ë‹¤ìŒ XML í˜•ì‹ìœ¼ë¡œ ë„êµ¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
            <div class="code-block">
&lt;use_mcp_tool&gt;
&lt;server_name&gt;ì„œë²„ì´ë¦„&lt;/server_name&gt;
&lt;tool_name&gt;ë„êµ¬ì´ë¦„&lt;/tool_name&gt;
&lt;arguments&gt;{"ë§¤ê°œë³€ìˆ˜": "ê°’"}&lt;/arguments&gt;
&lt;/use_mcp_tool&gt;
            </div>
        </div>

        <h2 id="web-ui">ğŸŒ ì›¹ UI í´ë¼ì´ì–¸íŠ¸</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: client.py</h3>
            
            <p>Streamlitì„ ì‚¬ìš©í•œ ì›¹ ê¸°ë°˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¡œ, ë¹„ë™ê¸° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p>

            <h4>ğŸ”§ ì£¼ìš” ê¸°ëŠ¥</h4>
            
            <div class="method-signature">
                async def setup_mcp_servers()
            </div>
            <p><strong>ëª©ì :</strong> mcp.json íŒŒì¼ì—ì„œ MCP ì„œë²„ ì„¤ì •ì„ ì½ì–´ì™€ ì—°ê²°</p>
            <ul>
                <li>agents ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ MCPServerStdio ì‚¬ìš©</li>
                <li>ìºì‹œëœ ë„êµ¬ ëª©ë¡ ì‚¬ìš©</li>
                <li>ë¹„ë™ê¸° ì—°ê²° ê´€ë¦¬</li>
            </ul>

            <div class="method-signature">
                async def setup_agent()
            </div>
            <p><strong>ëª©ì :</strong> LLM ì—ì´ì „íŠ¸ ì´ˆê¸°í™”</p>
            <div class="code-block">
agent = Agent(
    name="Assistant",
    instructions="ë„ˆëŠ” ìœ íŠœë¸Œ ì»¨í…ì¸  ë¶„ì„ì„ ë„ì™€ì£¼ëŠ” ì—ì´ì „íŠ¸ì•¼",
    model="gpt-4o-mini",
    mcp_servers=mcp_servers
)
            </div>

            <div class="method-signature">
                async def process_user_message()
            </div>
            <p><strong>ëª©ì :</strong> ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ê³  ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì œê³µ</p>
            <ul>
                <li>Runner.run_streamed()ë¥¼ í†µí•œ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬</li>
                <li>ì‹¤ì‹œê°„ ì‘ë‹µ í† í° ì¶œë ¥</li>
                <li>ë„êµ¬ ì‚¬ìš© ì•Œë¦¼</li>
                <li>ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬</li>
            </ul>

            <h4>ğŸ¨ Streamlit UI êµ¬ì„±</h4>
            <ul>
                <li><strong>í˜ì´ì§€ ì„¤ì •:</strong> "ğŸ¥ ìœ íŠœë¸Œ ì—ì´ì „íŠ¸" íƒ€ì´í‹€</li>
                <li><strong>ëŒ€í™” íˆìŠ¤í† ë¦¬:</strong> ì„¸ì…˜ ìƒíƒœë¡œ ê´€ë¦¬</li>
                <li><strong>ì‹¤ì‹œê°„ ì‘ë‹µ:</strong> í† í° ë‹¨ìœ„ ìŠ¤íŠ¸ë¦¬ë°</li>
                <li><strong>ë„êµ¬ ì•Œë¦¼:</strong> Toast ë©”ì‹œì§€ë¡œ ë„êµ¬ ì‚¬ìš© í‘œì‹œ</li>
            </ul>
        </div>

        <h2 id="manual-client">ğŸ”§ ìˆ˜ë™ í´ë¼ì´ì–¸íŠ¸</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: manual_mcp_client.py</h3>
            
            <p>JSON-RPC í”„ë¡œí† ì½œì„ ì§ì ‘ êµ¬í˜„í•œ ë¡œìš°ë ˆë²¨ MCP í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤. ë””ë²„ê¹…ê³¼ í…ŒìŠ¤íŠ¸ì— ìœ ìš©í•©ë‹ˆë‹¤.</p>

            <h4>ğŸ—ï¸ ManualMCPClient í´ë˜ìŠ¤</h4>

            <div class="method-signature">
                async def start()
            </div>
            <p><strong>ëª©ì :</strong> ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì‹œì‘</p>
            <ul>
                <li>subprocess.Popenìœ¼ë¡œ ì„œë²„ ì‹¤í–‰</li>
                <li>stdin/stdout íŒŒì´í”„ ì„¤ì •</li>
                <li>í”„ë¡œì„¸ìŠ¤ ID ì¶”ì </li>
            </ul>

            <div class="method-signature">
                async def send_request(self, method: str, params: Dict[str, Any] = None) -> Dict[str, Any]
            </div>
            <p><strong>ëª©ì :</strong> JSON-RPC ìš”ì²­ ì „ì†¡ ë° ì‘ë‹µ ëŒ€ê¸°</p>
            <div class="code-block">
# JSON-RPC ìš”ì²­ í˜•ì‹
{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/list",
    "params": {}
}
            </div>

            <div class="method-signature">
                async def initialize()
            </div>
            <p><strong>ëª©ì :</strong> ì™„ì „í•œ MCP ì´ˆê¸°í™” ì‹œí€€ìŠ¤ ì‹¤í–‰</p>
            <ol>
                <li>initialize ìš”ì²­ ì „ì†¡</li>
                <li>ì„œë²„ ì‘ë‹µ í™•ì¸</li>
                <li>initialized ì•Œë¦¼ ì „ì†¡</li>
                <li>ì´ˆê¸°í™” ì™„ë£Œ í™•ì¸</li>
            </ol>

            <div class="method-signature">
                async def check_server_errors()
            </div>
            <p><strong>ëª©ì :</strong> ì„œë²„ ì˜¤ë¥˜ ë¡œê·¸ í™•ì¸ ë° í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§</p>
        </div>

        <h2 id="config">âš™ï¸ ì„¤ì • ê´€ë¦¬</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: config.py</h3>
            
            <p>í”„ë¡œì íŠ¸ ì „ì²´ì˜ ì„¤ì •ì„ í†µí•© ê´€ë¦¬í•˜ëŠ” ê°•ë ¥í•œ ì„¤ì • ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>

            <h4>ğŸ“Š ì„¤ì • ë°ì´í„° í´ë˜ìŠ¤</h4>

            <div class="method-signature">
                @dataclass<br>
                class LLMProviderConfig
            </div>
            <p>LLM ì œê³µìë³„ ìƒì„¸ ì„¤ì • (API í‚¤, ëª¨ë¸, URL, í† í° ìˆ˜ ë“±)</p>

            <div class="method-signature">
                @dataclass<br>
                class McpServerConfig
            </div>
            <p>MCP ì„œë²„ë³„ ì„¤ì • (ëª…ë ¹ì–´, ì¸ìˆ˜, í™˜ê²½ë³€ìˆ˜, íƒ€ì„ì•„ì›ƒ ë“±)</p>

            <div class="method-signature">
                @dataclass<br>
                class AppConfig
            </div>
            <p>ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ì„¤ì • í†µí•©</p>

            <h4>ğŸ”§ ConfigManager í´ë˜ìŠ¤</h4>

            <div class="method-signature">
                def load_config(self) -> AppConfig
            </div>
            <p><strong>ì„¤ì • ë¡œë“œ ìš°ì„ ìˆœìœ„:</strong></p>
            <ol>
                <li>ê¸°ë³¸ ì„¤ì •ê°’</li>
                <li>ì„¤ì • íŒŒì¼ (config.json)</li>
                <li>í™˜ê²½ë³€ìˆ˜ (ìµœê³  ìš°ì„ ìˆœìœ„)</li>
            </ol>

            <h4>ğŸŒ í™˜ê²½ë³€ìˆ˜ ì§€ì›</h4>
            <table>
                <tr>
                    <th>í™˜ê²½ë³€ìˆ˜</th>
                    <th>ëª©ì </th>
                </tr>
                <tr>
                    <td>OPENAI_API_KEY</td>
                    <td>OpenAI API í‚¤</td>
                </tr>
                <tr>
                    <td>ANTHROPIC_API_KEY</td>
                    <td>Anthropic API í‚¤</td>
                </tr>
                <tr>
                    <td>OLLAMA_BASE_URL</td>
                    <td>Ollama ì„œë²„ URL</td>
                </tr>
                <tr>
                    <td>MCP_CONFIG_FILE</td>
                    <td>MCP ì„¤ì • íŒŒì¼ ê²½ë¡œ</td>
                </tr>
                <tr>
                    <td>DEBUG_MODE</td>
                    <td>ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”</td>
                </tr>
            </table>
        </div>

        <h2 id="example-server">ğŸ§ª ì˜ˆì œ MCP ì„œë²„</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: example_mcp_server.py</h3>
            
            <p>í•™ìŠµê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì™„ì „í•œ MCP ì„œë²„ êµ¬í˜„ ì˜ˆì œì…ë‹ˆë‹¤.</p>

            <h4>ğŸ› ï¸ ì œê³µ ë„êµ¬</h4>

            <table>
                <tr>
                    <th>ë„êµ¬ëª…</th>
                    <th>ê¸°ëŠ¥</th>
                    <th>ë§¤ê°œë³€ìˆ˜</th>
                </tr>
                <tr>
                    <td>get_current_time</td>
                    <td>í˜„ì¬ ì‹œê°„ ì¡°íšŒ</td>
                    <td>format (ISO/readable)</td>
                </tr>
                <tr>
                    <td>calculate</td>
                    <td>ìˆ˜í•™ ê³„ì‚°</td>
                    <td>expression (ìˆ˜ì‹)</td>
                </tr>
                <tr>
                    <td>text_analysis</td>
                    <td>í…ìŠ¤íŠ¸ ë¶„ì„</td>
                    <td>text, language</td>
                </tr>
                <tr>
                    <td>generate_uuid</td>
                    <td>UUID ìƒì„±</td>
                    <td>version, count</td>
                </tr>
            </table>

            <h4>ğŸ”§ êµ¬í˜„ ì˜ˆì‹œ</h4>
            <div class="code-block">
@app.call_tool()
async def call_tool(name: str, arguments: Dict[str, Any]) -> List[TextContent]:
    if name == "get_current_time":
        format_type = arguments.get("format", "ISO")
        now = datetime.now()
        
        if format_type == "readable":
            time_str = now.strftime("%Yë…„ %mì›” %dì¼ %Hì‹œ %Më¶„ %Sì´ˆ")
        else:
            time_str = now.isoformat()
        
        return [TextContent(
            type="text",
            text=f"í˜„ì¬ ì‹œê°„: {time_str}"
        )]
            </div>

            <h4>ğŸ“š ë¦¬ì†ŒìŠ¤ ì§€ì›</h4>
            <p>ì„œë²„ ì •ë³´ì™€ ë„êµ¬ ëª©ë¡ì„ ë¦¬ì†ŒìŠ¤ë¡œ ì œê³µ:</p>
            <ul>
                <li><strong>server-info:</strong> ì„œë²„ ë²„ì „ ë° ìƒíƒœ ì •ë³´</li>
                <li><strong>tools-list:</strong> ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡</li>
            </ul>
        </div>

        <h2 id="debug">ğŸ› ë””ë²„ê¹… ë„êµ¬</h2>
        
        <div class="file-section">
            <h3>ğŸ“„ íŒŒì¼: debug_mcp_raw.py</h3>
            
            <p>MCP í†µì‹ ì„ ë¡œìš°ë ˆë²¨ì—ì„œ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ë””ë²„ê¹… ë„êµ¬ì…ë‹ˆë‹¤.</p>

            <h4>ğŸ” ë””ë²„ê¹… ê¸°ëŠ¥</h4>

            <div class="method-signature">
                async def debug_mcp_communication()
            </div>
            <p><strong>ìˆ˜í–‰ ì‘ì—…:</strong></p>
            <ul>
                <li>ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì§ì ‘ ì‹œì‘</li>
                <li>JSON-RPC ë©”ì‹œì§€ ì›ë³¸ í™•ì¸</li>
                <li>ì‘ë‹µ íƒ€ì„ì•„ì›ƒ ëª¨ë‹ˆí„°ë§</li>
                <li>stderr ì˜¤ë¥˜ ë©”ì‹œì§€ ìˆ˜ì§‘</li>
                <li>í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì¶”ì </li>
            </ul>

            <h4>ğŸ“Š ì¶œë ¥ ì •ë³´</h4>
            <div class="code-block">
ğŸ” MCP í†µì‹  ë””ë²„ê¹… ì‹œì‘...
âœ… ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì‹œì‘ë¨ (PID: 12345)
ğŸ“¤ ì´ˆê¸°í™” ìš”ì²­ ì „ì†¡ ì¤‘...
ìš”ì²­: {
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  ...
}
âœ… ì´ˆê¸°í™” ìš”ì²­ ì „ì†¡ë¨
ğŸ“¥ ì‘ë‹µ ëŒ€ê¸° ì¤‘...
âœ… ì‘ë‹µ ìˆ˜ì‹ : {"jsonrpc": "2.0", "id": 1, "result": {...}}
            </div>
        </div>

        <h2 id="usage">ğŸš€ ì‚¬ìš© ë°©ë²•</h2>

        <h3>1ï¸âƒ£ í™˜ê²½ ì„¤ì •</h3>
        <div class="code-block">
# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
venv\Scripts\activate  # Windows
source venv/bin/activate  # Linux/Mac

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
        </div>

        <h3>2ï¸âƒ£ ì„¤ì • íŒŒì¼ ì¤€ë¹„</h3>
        <div class="code-block">
# test.json ì˜ˆì‹œ
{
    "mcpServers": {
        "example": {
            "command": "python",
            "args": ["example_mcp_server.py"]
        }
    }
}
        </div>

        <h3>3ï¸âƒ£ ë©”ì¸ í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰</h3>
        <div class="code-block">
# LLM ì„¤ì •
llm_config = LLMConfig(
    provider="ollama",
    model="llama3.2",
    base_url="http://localhost:11434"
)

# í´ë¼ì´ì–¸íŠ¸ ìƒì„± ë° ì‹¤í–‰
client = SimpleMcpClient(llm_config)
client.connect_servers("test.json")

# ëŒ€í™” ì‹œì‘
response = client.chat("í˜„ì¬ ì‹œê°„ì„ ì•Œë ¤ì£¼ì„¸ìš”")
        </div>

        <h3>4ï¸âƒ£ ì›¹ UI ì‹¤í–‰</h3>
        <div class="code-block">
streamlit run client.py
        </div>

        <h2 id="development">ğŸ’» ê°œë°œ ê°€ì´ë“œ</h2>

        <h3>ğŸ”§ ìƒˆë¡œìš´ MCP ì„œë²„ ì¶”ê°€</h3>
        <ol>
            <li><strong>ì„œë²„ êµ¬í˜„:</strong> MCP í‘œì¤€ì„ ë”°ë¼ ì„œë²„ êµ¬í˜„</li>
            <li><strong>ì„¤ì • ì¶”ê°€:</strong> test.jsonì— ì„œë²„ ì„¤ì • ì¶”ê°€</li>
            <li><strong>í…ŒìŠ¤íŠ¸:</strong> debug_mcp_raw.pyë¡œ ì—°ê²° í…ŒìŠ¤íŠ¸</li>
            <li><strong>í†µí•©:</strong> ë©”ì¸ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©</li>
        </ol>

        <h3>ğŸ¤– ìƒˆë¡œìš´ LLM ì œê³µì ì¶”ê°€</h3>
        <ol>
            <li><strong>ì„¤ì • í´ë˜ìŠ¤ í™•ì¥:</strong> LLMConfigì— ìƒˆ ì œê³µì ì¶”ê°€</li>
            <li><strong>API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„:</strong> _call_ìƒˆì œê³µì() ë©”ì„œë“œ êµ¬í˜„</li>
            <li><strong>ë¼ìš°íŒ… ì¶”ê°€:</strong> _call_llm()ì—ì„œ ìƒˆ ì œê³µì ì²˜ë¦¬</li>
            <li><strong>í…ŒìŠ¤íŠ¸:</strong> ì‹¤ì œ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸</li>
        </ol>

        <div class="warning">
            <strong>âš ï¸ ì£¼ì˜ì‚¬í•­:</strong>
            <ul>
                <li>MCP ì„œë²„ëŠ” JSON-RPC 2.0 í‘œì¤€ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤</li>
                <li>ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œ ì ì ˆí•œ ì˜ˆì™¸ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>
                <li>API í‚¤ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤</li>
                <li>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë„êµ¬ ì‹¤í–‰ ê¶Œí•œì„ ì‹ ì¤‘íˆ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤</li>
            </ul>
        </div>

        <h3>ğŸ” ë””ë²„ê¹… íŒ</h3>
        <ul>
            <li><strong>ì—°ê²° ë¬¸ì œ:</strong> debug_mcp_raw.pyë¡œ ë¡œìš°ë ˆë²¨ í†µì‹  í™•ì¸</li>
            <li><strong>ë„êµ¬ í˜¸ì¶œ ë¬¸ì œ:</strong> manual_mcp_client.pyë¡œ ê°œë³„ ë„êµ¬ í…ŒìŠ¤íŠ¸</li>
            <li><strong>LLM ì‘ë‹µ ë¬¸ì œ:</strong> ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì™€ ë„êµ¬ ëª…ì„¸ í™•ì¸</li>
            <li><strong>ì„±ëŠ¥ ë¬¸ì œ:</strong> ë¹„ë™ê¸° ì²˜ë¦¬ì™€ íƒ€ì„ì•„ì›ƒ ì„¤ì • ì ê²€</li>
        </ul>

        <h2>ğŸ“š ì°¸ê³  ìë£Œ</h2>
        <ul>
            <li><a href="https://modelcontextprotocol.io/">Model Context Protocol ê³µì‹ ë¬¸ì„œ</a></li>
            <li><a href="https://docs.anthropic.com/claude/docs/">Anthropic Claude API ë¬¸ì„œ</a></li>
            <li><a href="https://platform.openai.com/docs/">OpenAI API ë¬¸ì„œ</a></li>
            <li><a href="https://ollama.ai/">Ollama í”„ë¡œì íŠ¸</a></li>
            <li><a href="https://streamlit.io/">Streamlit ë¬¸ì„œ</a></li>
        </ul>

        <div class="info">
            <strong>ğŸ“ ì§€ì›:</strong> ì´ í”„ë¡œì íŠ¸ëŠ” MCPì™€ LLM í†µí•©ì˜ ì™„ì „í•œ ì˜ˆì œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê° ì»´í¬ë„ŒíŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, í•„ìš”ì— ë”°ë¼ í™•ì¥ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        </div>

        <footer style="margin-top: 50px; padding: 20px; background: #f8f9fa; border-radius: 8px; text-align: center;">
            <p><em>ì´ ë¬¸ì„œëŠ” MCP í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì íŠ¸ì˜ í¬ê´„ì ì¸ ê°€ì´ë“œì…ë‹ˆë‹¤. ì¶”ê°€ ì§ˆë¬¸ì´ë‚˜ ê°œì„  ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ì—°ë½í•´ ì£¼ì„¸ìš”!</em></p>
        </footer>
    </div>
</body>
</html> 
